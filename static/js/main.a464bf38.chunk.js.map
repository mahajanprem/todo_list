{"version":3,"sources":["services/mode.js","assets/text/en_US.js","components/ui/Info.js","components/ui/InputBox.js","components/hoc/wrapInputBox.js","components/ui/SearchBox.js","components/ui/InputWrapper.js","components/ui/Header.js","util/common.js","services/filter.js","components/ui/Filter.js","components/ui/ButtonWrapper.js","components/ui/Footer.js","components/ui/CheckBox.js","components/ui/TodoItem.js","components/ui/FilteredList.js","components/ui/TodoList.js","services/todo.js","components/wrappers/StateProvider.js","components/wrappers/KeyStrokeHandler.js","components/wrappers/App.js","index.js"],"names":["MODE_NONE","MODE_SEARCH","MODE_CREATE","Info","props","message","mode","className","enhance","compose","withState","console","log","value","withHandlers","handleKeyUp","addNew","setValue","e","text","target","trim","keyCode","KeyCode","handleChange","autoFocus","type","onKeyUp","onChange","placeholder","SearchBox","query","setSearchQuery","InputWrapper","Header","objectWithOnly","object","attrs","newObject","forEach","attr","bind","wrapChildrenWith","children","React","Children","map","child","cloneElement","FILTER_ACTIVE","FILTER_COMPLETED","Filter","options","getOptions","filter","changeFilter","getClass","key","Object","keys","onClick","ButtonWrapper","changeMode","isCreateMode","isSearchMode","title","Footer","count","CheckBox","state","checked","this","setState","Component","TodoItem","data","changeStatus","completed","id","FilteredList","items","length","item","TodoList","list","actions","q","toLowerCase","str","substr","indexOf","search","applyFilter","todoCounter","StateProvider","updatedList","assign","concat","addToList","itemId","index","findIndex","update","$set","updateStatus","KeyStrokeHandler","window","addEventListener","removeEventListener","nextMode","current","keyPressed","KEY_SLASH","KEY_N","KEY_ESCAPE","getNextModeByKey","preventDefault","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a464bf38.chunk.js","sourcesContent":["import {KEY_SLASH, KEY_N, KEY_ESCAPE} from 'keycode-js';\n\nexport const MODE_NONE = 'none';\nexport const MODE_SEARCH = 'search';\nexport const MODE_CREATE = 'create';\n\nexport function getNextModeByKey(current, keyPressed) {\n    switch (current) {\n        case MODE_NONE:\n            if (keyPressed === KEY_SLASH) return MODE_SEARCH;\n            if (keyPressed === KEY_N) return MODE_CREATE;\n\n            break;\n\n        default:\n            if (keyPressed === KEY_ESCAPE) return MODE_NONE;\n\n    }\n\n    return current;\n}\n","export const MSG_NO_ITEMS = 'There are no items.';\nexport const INFO_SHORTCUT_KEYS = 'Press `/` to search and `N` to create a new item.';\nexport const INFO_CANCEL_SHORTCUT_KEY = 'Press `Esc` to cancel.';\n","import React from 'react';\nimport {MODE_NONE} from '../../services/mode';\nimport {INFO_SHORTCUT_KEYS, INFO_CANCEL_SHORTCUT_KEY} from '../../assets/text/en_US';\n\nexport default function Info(props) {\n    const message = props.mode === MODE_NONE ? INFO_SHORTCUT_KEYS : INFO_CANCEL_SHORTCUT_KEY;\n\n    return <p className=\"info\">{message}</p>;\n}\n","import React from 'react';\nimport enhance from '../hoc/wrapInputBox';\n\nfunction InputBox(props) {\n    const { value, handleChange, handleKeyUp } = props;\n\n    return (\n        <input autoFocus\n            type=\"text\"\n            className=\"form-control add-todo\"\n            value={value}\n            onKeyUp={handleKeyUp}\n            onChange={handleChange}\n            placeholder=\"Add New\"\n        />\n    );\n}\n\nexport default enhance(InputBox);\n","import * as KeyCode from 'keycode-js';\nimport { compose, withState, withHandlers } from 'recompose';\n\nexport default compose(\n    withState('value', 'setValue', props => {\n        console.log('got props', props);\n        return props.value || ''\n    }),\n    withHandlers({\n        handleKeyUp: ({ addNew, setValue }) => e => {\n            const text = e.target.value.trim();\n\n            if (e.keyCode === KeyCode.KEY_RETURN && text) {\n                addNew(text);\n                setValue('');\n            }\n        },\n        handleChange: ({ setValue }) => e => {\n            setValue(e.target.value);\n        }\n    })\n);\n","import React from 'react';\n\nexport default function SearchBox(props) {\n    const {query, setSearchQuery} = props;\n\n    return (\n        <input\n            type=\"text\" autoFocus\n            className=\"form-control search\"\n            value={query}\n            onChange={e => setSearchQuery(e.target.value)}\n            placeholder=\"Search\"\n        />\n    );\n}\n","import React from 'react';\nimport InputBox from './InputBox';\nimport SearchBox from './SearchBox';\nimport {MODE_SEARCH, MODE_CREATE} from '../../services/mode';\n\nexport default function InputWrapper(props) {\n    const {mode, addNew, query, setSearchQuery} = props;\n\n    switch (mode) {\n        case MODE_CREATE:\n            return <InputBox {...{addNew}}/>;\n\n        case MODE_SEARCH:\n            return <SearchBox {...{query, setSearchQuery}}/>;\n\n        default:\n            return null;\n    }\n}\n","import React from 'react';\nimport InputWrapper from './InputWrapper';\n\nexport default function Header(props) {\n    return (\n        <header>\n            <h1>Things To Do</h1>\n            <InputWrapper {...props}/>\n        </header>\n    );\n}\n","import React from 'react';\n\n/**\n * Returns a new object with only few attributes of the original object.\n * Note: the attributes/properties will still be bound to the old object.\n *\n * @param  {Object} object     The object.\n * @param  {Array}             Array of selected attributes.\n * @return {Object}            New object with only the selected attributes.\n */\nexport function objectWithOnly(object, attrs) {\n    let newObject = {};\n\n    attrs.forEach(attr => {\n        newObject[attr] = object[attr].bind(object);\n    });\n\n    return newObject;\n}\n\n/**\n * Wraps react children elements with props.\n */\nexport function wrapChildrenWith(children, props) {\n    return React.Children.map(children, child => React.cloneElement(child, props));\n}\n\n/**\n * Checks if the string includes the substring.\n *\n * @param  {String} str\n * @param  {String} substr\n * @return {Boolean}\n */\nexport function stringInclues(str, substr) {\n    return str.indexOf(substr) !== -1;\n}\n","import {stringInclues} from '../util/common';\n\nexport const FILTER_ALL = 'all';\nexport const FILTER_ACTIVE = 'active';\nexport const FILTER_COMPLETED = 'completed';\n\nexport function applyFilter(list, filter) {\n    switch (filter) {\n        case FILTER_COMPLETED:\n            return list.filter(item => item.completed === true);\n\n        case FILTER_ACTIVE:\n            return list.filter(item => item.completed !== true);\n\n        default:\n            return list;\n    }\n}\n\nexport function search(list, query) {\n    let q = query.trim().toLowerCase();\n\n    return list.filter(({text}) => stringInclues(text.toLowerCase(), q));\n}\n\n\nexport function getOptions() {\n    return {\n        [FILTER_ALL]: 'All',\n        [FILTER_ACTIVE]: 'Active',\n        [FILTER_COMPLETED]: 'Completed'\n    };\n}\n","import React from 'react';\nimport {getOptions} from '../../services/filter';\n\nexport default function Filter(props) {\n    const options = getOptions();\n    const {filter, changeFilter} = props;\n    const getClass = (key) => (key === filter ? 'selected' : '');\n\n    return (\n        <ul className=\"filters list-unstyled clearfix\">\n            {Object.keys(options).map(key => (\n                <li key={key}>\n                    <a onClick={() => changeFilter(key)} className={getClass(key)}>\n                        {options[key]}\n                    </a>\n                </li>\n            ))}\n        </ul>\n    );\n}\n","import React from 'react';\nimport {MODE_NONE, MODE_CREATE, MODE_SEARCH} from '../../services/mode';\n\nexport default function ButtonWrapper(props) {\n    const {mode, changeMode} = props;\n    const isCreateMode = () => mode === MODE_CREATE;\n    const isSearchMode = () => mode === MODE_SEARCH;\n\n    return (\n        <div>\n            <a title=\"Add New\"\n                className={'button add ' + (isCreateMode() ? 'selected' : '')}\n                onClick={() => changeMode(isCreateMode() ? MODE_NONE : MODE_CREATE)}></a>\n            <a title=\"Search\"\n                className={'button search ' + (isSearchMode() ? 'selected' : '')}\n                onClick={() => changeMode(isSearchMode() ? MODE_NONE : MODE_SEARCH)}></a>\n        </div>\n    );\n}\n","import React from 'react';\nimport Filter from './Filter';\nimport ButtonWrapper from './ButtonWrapper';\n\nexport default function Footer(props) {\n    const {count, filter, changeFilter} = props;\n\n    return (\n        <footer className=\"clearfix\">\n            <div className=\"pull-left buttons\">\n                <ButtonWrapper {...props}/>\n            </div>\n            <div className=\"pull-left\">\n                {`${count} items left`}\n            </div>\n            <div className=\"pull-right\">\n                <Filter {...{filter, changeFilter}}/>\n            </div>\n        </footer>\n    );\n}\n","import React, {Component} from 'react';\n\nclass CheckBox extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            checked: this.props.checked\n        };\n    }\n\n    handleChange(e) {\n        const {checked} = e.target;\n\n        this.setState({checked});\n        this.props.onChange(checked);\n    }\n\n    render() {\n        return (<input type=\"checkbox\" checked={this.state.checked} onChange={this.handleChange.bind(this)}/>);\n    }\n}\n\nexport default CheckBox;\n","import React from 'react';\nimport CheckBox from './CheckBox';\n\nexport default function TodoItem(props) {\n    const {data, changeStatus} = props;\n    const handleChange = (checked) => changeStatus(data.id, checked);\n    const className = 'todo-item ui-state-default ' + (data.completed === true ? 'completed' : 'pending');\n\n    return (\n        <li className={className}>\n            <div className=\"checkbox\">\n                <label>\n                    <CheckBox checked={data.completed} onChange={handleChange}/> {data.text}\n                </label>\n            </div>\n        </li>\n    );\n}\n","import React from 'react';\nimport TodoItem from './TodoItem';\nimport {MSG_NO_ITEMS} from '../../assets/text/en_US';\n\nexport default function FilteredList(props) {\n    const {items, changeStatus} = props;\n\n    if (items.length === 0) {\n        return (\n            <p className=\"alert alert-info\">{MSG_NO_ITEMS}</p>\n        );\n    }\n\n    return (\n        <ul className=\"list-unstyled\">\n            {items.map(item => (\n                <TodoItem key={item.id} data={item} changeStatus={changeStatus}/>\n            ))}\n        </ul>\n    );\n}\n","import React from 'react';\nimport Info from './Info';\nimport Header from './Header';\nimport Footer from './Footer';\nimport FilteredList from './FilteredList';\nimport {applyFilter, search} from '../../services/filter';\n\nexport default function TodoList(props) {\n    const {list, filter, mode, query} = props.data;\n    const {addNew, changeFilter, changeStatus, changeMode, setSearchQuery} = props.actions;\n    const count = list.length;\n    const items = search(applyFilter(list, filter), query);\n\n    return (\n        <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"todolist\">\n                    <Header {...{addNew, mode, query, setSearchQuery}}/>\n                    <FilteredList {...{items, changeStatus}}/>\n                    <Footer {...{count, filter, changeFilter, mode, changeMode}}/>\n                    <Info {...{mode}}/>\n                </div>\n            </div>\n        </div>\n    );\n}\n","import update from 'immutability-helper';\n\n/**\n * Get the list of todo items.\n * @return {Array}\n */\nexport function getAll() {\n    return [\n        {\n            id: 1,\n            text: 'Learn Javascript',\n            completed: false\n        },\n        {\n            id: 2,\n            text: 'Learn React',\n            completed: false\n        },\n        {\n            id: 3,\n            text: 'Build a React App',\n            completed: false\n        }\n    ]\n}\n\nexport function getItemById(itemId) {\n    return getAll().find(item => item.id === itemId);\n}\n\nexport function updateStatus(items, itemId, completed) {\n    let index = items.findIndex(item => item.id === itemId);\n\n    // Returns a new list of data with updated item.\n    return update(items, {\n        [index]: {\n            completed: {$set: completed}\n        }\n    });\n}\n\n/**\n * A counter to generate a unique id for a todo item.\n * Can remove this logic when the todo is created using backend/database logic.\n * @type {Number}\n */\nlet todoCounter = 1;\n\nfunction getNextId() {\n    return getAll().length + todoCounter++;\n}\n\n/**\n * Adds a new item on the list and returns the new updated list (immutable).\n *\n * @param {Array} list\n * @param {Object} data\n * @return {Array}\n */\nexport function addToList(list, data) {\n    let item = Object.assign({\n        id: getNextId()\n    }, data);\n\n    return list.concat([item]);\n}\n","import React, {Component} from 'react';\nimport {FILTER_ALL} from '../../services/filter';\nimport {MODE_CREATE, MODE_NONE} from '../../services/mode';\nimport {objectWithOnly, wrapChildrenWith} from '../../util/common';\nimport {getAll, addToList, updateStatus} from '../../services/todo';\n\nclass StateProvider extends Component {\n    constructor() {\n        super();\n        this.state = {\n            query: '',\n            mode: MODE_CREATE,\n            filter: FILTER_ALL,\n            list: getAll()\n        }\n    }\n\n    render() {\n        let children = wrapChildrenWith(this.props.children, {\n            data: this.state,\n            actions: objectWithOnly(this, ['addNew', 'changeFilter', 'changeStatus', 'changeMode', 'setSearchQuery'])\n        });\n\n        return <div>{children}</div>;\n    }\n\n    addNew(text) {\n        let updatedList = addToList(this.state.list, {text, completed: false});\n\n        this.setState({list: updatedList});\n    }\n\n    changeFilter(filter) {\n        this.setState({filter});\n    }\n\n    changeStatus(itemId, completed) {\n        const updatedList = updateStatus(this.state.list, itemId, completed);\n\n        this.setState({list: updatedList});\n    }\n\n    changeMode(mode = MODE_NONE) {\n        this.setState({mode});\n    }\n\n    setSearchQuery(text) {\n        this.setState({query: text || ''});\n    }\n}\n\nexport default StateProvider;\n","import React, {Component} from 'react';\nimport {getNextModeByKey} from '../../services/mode';\nimport {wrapChildrenWith} from '../../util/common';\n\nclass KeyStrokeHandler extends Component {\n    componentWillMount() {\n        window.addEventListener('keydown', this.handleKeyUp.bind(this));\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('keydown', this.handleKeyUp);\n    }\n\n    handleKeyUp(e) {\n        const {mode} = this.props.data;\n        const nextMode = getNextModeByKey(mode, e.keyCode);\n\n        if (nextMode !== mode) {\n            e.preventDefault();\n            this.props.actions.changeMode(nextMode);\n        }\n    }\n\n    render() {\n        return <div>{wrapChildrenWith(this.props.children, this.props)}</div>;\n    }\n}\n\nexport default KeyStrokeHandler;\n","import React, {Component} from 'react';\nimport TodoList from '../ui/TodoList';\nimport StateProvider from './StateProvider';\nimport KeyStrokeHandler from './KeyStrokeHandler';\n\nclass App extends Component {\n    render() {\n        return (\n            <StateProvider>\n                <KeyStrokeHandler>\n                    <TodoList/>\n                </KeyStrokeHandler>\n            </StateProvider>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/wrappers/App';\r\n\r\n// Add bootstrap\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\n// Add our style\r\nimport './assets/style/index.css';\r\n\r\nReactDOM.render(\r\n    <App/>,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}